<!doctype html>
<html>
<head>
    <script src="https://d3js.org/d3.v4.min.js"></script>
</head>

<body>
    <script>
        var x = d3.scaleOrdinal();

        var y = d3.scaleLinear();
        
        var histogram = d3.histogram()
            .value(function(d) {return d.brand;})
            .domain(x.domain());

        var svg = d3.select("body").append("svg");

        svg.append("g")
           .attr("class", "axis axis--x");

        d3.csv("Auto_transformed.csv", function(error, data){
            if (error) throw error;
            var bins = histogram(data);
            y.domain([0, d3.max(bins, function(d) {return d.length;})]);
            x.domain(data.map(function(d) {return d.brand}))
            var bar = svg.selectAll(".bar")
                .data(bins)
                .enter()
                .append("g")
                .attr("class", bar);

            bar.append("rect")
               .attr("x", 1);

            bar.append("text")
               .attr("dy", ".75em")
               .attr("text-anchor", "middle")
               .text(function(d) {return d.length});
        });
    </script>
</body>
</html>
